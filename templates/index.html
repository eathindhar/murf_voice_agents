<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Kath.AI</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico" />
    <link rel="stylesheet" href="/static/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="header">
        <div class="header-content">
          <div class="logo-section">
            <div class="logo">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              </svg>
            </div>
            <h1 class="app-title">Kath.AI</h1>
          </div>
          
          <div class="header-controls">
            <button id="newSessionButton" class="header-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14M5 12h14"/>
              </svg>
              New Chat
            </button>
            
            <div class="status-indicator">
              <div id="connection-dot" class="status-dot online"></div>
              <span id="connection-status">Connected</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <div class="chat-container">
          <!-- Welcome Screen -->
          <div id="welcome-screen" class="welcome-screen">
            <div class="welcome-content">
              <div class="welcome-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                </svg>
              </div>
              <h2 class="welcome-title">How can I help you today?</h2>
              <p class="welcome-subtitle">Start a conversation by clicking the record button below</p>
            </div>
          </div>

          <!-- Chat Messages -->
          <div id="chat-messages" class="chat-messages" style="display: none;">
            <!-- Messages will be dynamically inserted here -->
          </div>
        </div>

        <!-- Input Area -->
        <div class="input-area">
          <div class="input-container">
            <!-- Status Message -->
            <div id="status-message" class="status-message"></div>
            
            <!-- Control Buttons -->
            <div class="control-section">
              <div class="button-group">
                <!-- Record Button -->
                <div class="record-section">
                  <button id="recordButton" class="record-button" data-state="idle">
                    <div class="record-button-inner">
                      <div class="record-icon">
                        <svg id="mic-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                          <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                          <path d="M12 19v4"/>
                          <path d="M8 23h8"/>
                        </svg>
                        
                        <svg id="stop-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                          <rect x="6" y="6" width="12" height="12" rx="2"/>
                        </svg>
                        
                        <div id="loading-icon" class="loading-spinner" style="display: none;">
                          <div class="spinner"></div>
                        </div>
                      </div>
                      
                      <div class="record-ripple"></div>
                      <div class="record-pulse"></div>
                    </div>
                  </button>
                  
                  <!-- Cancel Button -->
                  <button id="cancelButton" class="cancel-button" style="display: none;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                      <line x1="18" y1="6" x2="6" y2="18"/>
                      <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                  </button>
                </div>
              </div>
              
              <!-- Record Text -->
              <span id="record-text" class="record-text">Click to speak</span>
            </div>
          </div>
        </div>
      </main>

      <!-- Hidden Audio Player -->
      <audio id="audio-player" style="display: none;"></audio>

      <!-- Error Toast -->
      <div id="error-toast" class="toast error-toast" style="display: none;">
        <div class="toast-content">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="15" y1="9" x2="9" y2="15"/>
            <line x1="9" y1="9" x2="15" y2="15"/>
          </svg>
          <span id="error-message">Something went wrong</span>
        </div>
        <button id="dismiss-error" class="toast-dismiss">×</button>
      </div>

      <!-- Success Toast -->
      <div id="success-toast" class="toast success-toast" style="display: none;">
        <div class="toast-content">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <path d="m9 12 2 2 4-4"/>
          </svg>
          <span id="success-message">Success!</span>
        </div>
        <button id="dismiss-success" class="toast-dismiss">×</button>
      </div>
    </div>

    <script src="/static/script.js"></script>
  </body>
</html>